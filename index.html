<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>VueJS Workshop</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>

<body>

    <div id="app" v-cloak>
        <h2>{{heading}}</h2>
        <input type="text" placeholder="Search..." v-model="searchValue">
        <hr>
        <form v-on:submit.prevent="addTask">
            <input type="text" required placeholder="New task" v-focus v-model="newTask">
            <input type="submit" value="Add Task">
        </form>
        <ol>
            <li v-for="(t, i) in filteredTasks">
                <div v-if="t.id !== taskModel.id">
                    <span class="pointer" v-on:click="completeTask(t)" v-bind:class="{ 'strikethrough': t.completed }">{{ t.task | truncate(20) }}</span>
                    <button v-on:click="editTask(t)">Edit</button>
                    <button v-on:click="deleteTask(i)">Delete</button>
                </div>

                <form v-if="t.id === taskModel.id" v-on:submit.prevent="saveTask">
                    <input type="text" required placeholder="New task" v-focus v-model="taskModel.task">
                    <input type="submit" value="Save Task">
                </form>
            </li>
        </ol>
        <p v-if="!taskLoaded">Loading task...</p>

        <p v-if="taskLoaded && filteredTasks.length === 0">No task exists</p>

    </div>

    <script src="https://unpkg.com/vue@2.2.4" type="text/javascript"></script>
    <script src="api.js" type="text/javascript"></script>
    <script src="code.js" type="text/javascript"></script>
</body>

</html>
